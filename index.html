<!DOCTYPE html>
<h1>1</h1>
<counter- cnt="1">Hi</counter->
<script>
    customElements.define(
        "counter-",
        class extends HTMLElement {
            constructor() {
                super()
                const shadow = this.attachShadow({mode: "open"})
                const plus = document.createElement("button")
                plus.appendChild(document.createTextNode("+"))
                plus.addEventListener("click", () => this.cnt++)
                const div = document.createElement("div")
                shadow.appendChild(plus)
                shadow.appendChild(div)
            }
            static observedAttributes = ["cnt"]
            attributeChangedCallback(name, oldvalue, newValue) {
                console.log(name, oldvalue, newValue)
                const shadow = this.shadowRoot
                shadow.querySelector("div").textContent = newValue
            }
            get cnt() {
                return this.getAttribute("cnt")
            }
            set cnt(value) {
                this.setAttribute("cnt", value)
            }
        }
    )
</script>